{% extends "store/base.html" %}
{% block title %}Plumbing Size Chart{% endblock %}
{% block content %}
<div class="flex flex-col gap-6">
    <div class="glass p-5 md:p-6">
        <p class="text-xs uppercase tracking-[0.2em] text-slate-500 font-semibold mb-2">Reference Tool</p>
        <h1 class="text-2xl md:text-3xl font-bold mb-2">Plumbing Size Chart (NPS to DN)</h1>
        <p class="text-slate-600 text-sm">Reference mapping table from Nominal Pipe Size (NPS) to Diameter Nominal (DN).</p>
    </div>

    <div class="glass p-5 md:p-6">
        <h2 class="font-semibold text-lg mb-3">Quick Finder</h2>
        <div class="grid md:grid-cols-2 gap-3">
            <div>
                <label for="nps_value" class="block text-sm mb-1 text-slate-700">Nominal Pipe Size (NPS)</label>
                <select id="nps_value" class="w-full rounded-xl border border-slate-300 bg-white/90 px-3 py-2.5 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-cyan-400/70 focus:border-cyan-400">
                    <option value="">Select NPS</option>
                    {% for nps, dn in size_chart %}
                        <option value="{{ dn }}">{{ nps }}"</option>
                    {% endfor %}
                </select>
            </div>
            <div>
                <label for="dn_value" class="block text-sm mb-1 text-slate-700">Diameter Nominal (DN)</label>
                <input id="dn_value" type="text" class="w-full rounded-xl border border-slate-300 bg-slate-100/90 px-3 py-2.5 text-sm" readonly>
            </div>
        </div>
    </div>

    <div class="glass overflow-hidden">
        <table class="w-full text-sm text-slate-700">
            <thead class="bg-gradient-to-r from-slate-900 to-slate-700 text-left text-slate-100 uppercase tracking-wide text-xs">
                <tr>
                    <th class="px-4 py-3">NPS (inch)</th>
                    <th class="px-4 py-3">DN</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-slate-200/80">
                {% for nps, dn in size_chart %}
                    <tr class="hover:bg-cyan-50/70 transition">
                        <td class="px-4 py-2.5 font-medium">{{ nps }}"</td>
                        <td class="px-4 py-2.5">{{ dn }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<script>
    (function () {
        const npsInput = document.getElementById("nps_value");
        const dnInput = document.getElementById("dn_value");
        if (!npsInput || !dnInput) return;

        npsInput.addEventListener("change", function () {
            dnInput.value = npsInput.value || "";
        });
    })();
</script>
{% endblock %}
