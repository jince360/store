{% extends "store/base.html" %}
{% block title %}Plumbing Size Chart{% endblock %}
{% block content %}
<div class="flex flex-col gap-4">
    <div class="bg-white rounded-lg shadow p-5">
        <h1 class="text-xl font-semibold mb-2">Plumbing Size Chart (NPS to DN)</h1>
        <p class="text-slate-600 text-sm">Reference mapping table from Nominal Pipe Size (NPS) to Diameter Nominal (DN).</p>
    </div>

    <div class="bg-white rounded-lg shadow p-5">
        <h2 class="font-semibold mb-3">Quick Finder</h2>
        <div class="grid md:grid-cols-2 gap-3">
            <div>
                <label for="nps_value" class="block text-sm mb-1">Nominal Pipe Size (NPS)</label>
                <select id="nps_value" class="w-full border rounded px-3 py-2">
                    <option value="">Select NPS</option>
                    {% for nps, dn in size_chart %}
                        <option value="{{ dn }}">{{ nps }}"</option>
                    {% endfor %}
                </select>
            </div>
            <div>
                <label for="dn_value" class="block text-sm mb-1">Diameter Nominal (DN)</label>
                <input id="dn_value" type="text" class="w-full border rounded px-3 py-2 bg-slate-100" readonly>
            </div>
        </div>
    </div>

    <div class="bg-white rounded-lg shadow overflow-hidden">
        <table class="w-full text-sm">
            <thead class="bg-slate-200 text-left">
                <tr>
                    <th class="px-4 py-2">NPS (inch)</th>
                    <th class="px-4 py-2">DN</th>
                </tr>
            </thead>
            <tbody>
                {% for nps, dn in size_chart %}
                    <tr class="border-t">
                        <td class="px-4 py-2">{{ nps }}"</td>
                        <td class="px-4 py-2">{{ dn }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<script>
    (function () {
        const npsInput = document.getElementById("nps_value");
        const dnInput = document.getElementById("dn_value");
        if (!npsInput || !dnInput) return;

        npsInput.addEventListener("change", function () {
            dnInput.value = npsInput.value || "";
        });
    })();
</script>
{% endblock %}
